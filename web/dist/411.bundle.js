"use strict";(self.webpackChunkintegrate_with_react=self.webpackChunkintegrate_with_react||[]).push([[411],{411:(e,t,l)=>{l.r(t),l.d(t,{default:()=>$e});var n=l(81),a=l(36),r=l(540),o=l(568),i=(0,n.a)((function(){const{config:e,active:t,custom:l}=(0,n.u)(),{tools:a}=e,o=t.tool,i=t=>e.locale[t].title,c=l.getBasicToolbar();return c?r.createElement(c,{show:!!o},a.map(((l,a)=>l&&r.createElement(n.T.Toolbar.Item,{onClick:()=>t.selectTool(l),key:l,label:i(l),isActive:o===l,isDisabled:!(t.image||"library"===l||"customTool"===l)},(t=>{const l=e.state.config[t];if("icon"in l){const e=l.icon;return r.createElement(e,null)}const a=n.w[t];return r.createElement(a,null)||null})(l))||r.createElement(n.T.Toolbar.Separator,{key:l+a,active:!!o})))):null})),c=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,s=(0,n.c)("adjustmentsTool","custom")((0,n.a)((({adjustmentsTool:e,custom:t})=>{const l=e.selectedAdjustmentType.toLowerCase(),a=e[l],o=t.getButton("toolControlBarSecondaryButton");return r.createElement(c,{show:Boolean(l)},o&&r.createElement("div",null,r.createElement(o,{tool:"adjustment",ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:e.locale.controls.buttonReset})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(n.r.Spacer,{count:2}),r.createElement(n.T.Slider,{identifier:e.selectedAdjustmentType,tool:"adjustment","aria-hidden":!l,adjust:!0,label:e.selectedOptionLabel,value:a,onChange:t=>{e.editAdjustments({type:l,value:t})},onMouseUp:()=>e.toolSnapshot(),onTouchEnd:()=>e.toolSnapshot(),snap:0}),r.createElement(n.r.Spacer,{count:2})),r.createElement(n.T.BarSeparator,null))}))),m=(0,n.a)((()=>{const{brushTool:e}=(0,n.u)(),{colorList:t,locale:l,localeColor:a}=e,o=l.controls,i=a.colorPicker;return r.createElement(r.Fragment,null,r.createElement(n.r.Input.Selection,{showLabel:!1,label:o.selectColor},r.createElement(n.I,{tool:"brush",activeColor:e.color,colors:t,labelsColor:i,colorPickerDirection:"top",onChange:e.changeColor})))})),u=(0,n.a)((()=>{const{brushTool:e}=(0,n.u)(),{locale:t}=e,l=t.controls;return r.createElement(n.T.Slider,{identifier:"brush-hardness",tool:"brush","data-test":a.Ta.BrushHardness,showLabel:!1,label:l.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})})),d=(0,n.a)((()=>{const{brushTool:e}=(0,n.u)(),{locale:t}=e,l=t.controls;return r.createElement(n.T.Slider,{identifier:"brush-size",tool:"brush","data-test":a.Ta.BrushSize,showLabel:!1,label:l.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})})),b=n.T.ResponsiveTabWrapper,{Tab:p}=n.T,h=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,C=(0,n.a)((()=>{const{brushTool:e,custom:t}=(0,n.u)(),{locale:l,config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=l.controls,c=t.getButton("toolControlBarSecondaryButton");return r.createElement(h,{style:{justifyContent:"center"},show:!0},c&&r.createElement("div",null,r.createElement(c,{tool:"brush",ariaLabel:i.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),isDisabled:!e.isDirty,label:i.buttonReset})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(n.r.Input.Form,null,r.createElement(b,null,o.map((e=>(e=>{switch(e){case"brushColor":return r.createElement(p,{key:e,label:i.tabColor},r.createElement(m,null));case"brushSize":return r.createElement(p,{key:e,label:i.tabSize},r.createElement(d,null));case"brushHardness":return r.createElement(p,{key:e,label:i.tabHardness},r.createElement(u,null));default:return null}})(e)))))))})),g=(0,n.a)((()=>{const{filterTool:e}=(0,n.u)(),{state:t}=e,l=e.locale.controls,a=()=>{e.toolSnapshot()};return r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(n.r.Spacer,{count:2}),r.createElement(n.T.Slider,{identifier:"filter-intensity",tool:"filter","aria-hidden":!e.isOptionSelected,label:l.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:a,onTouchEnd:a,onChange:e.changeIntensity,snap:t.isDuotone?.5:null}),r.createElement(n.r.Spacer,{count:2}))})),E=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,f=(0,n.a)((()=>{const{filterTool:e,custom:t}=(0,n.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,o=t.getButton("toolControlBarSecondaryButton");return r.createElement(E,{show:e.isOptionSelected},o&&r.createElement("div",null,r.createElement(o,{tool:"filter",ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:e.locale.controls.buttonReset})),a.map((e=>(e=>"filterIntensity"===e?r.createElement(g,{key:e}):null)(e))),r.createElement(n.T.BarSeparator,null))})),T=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,y=(0,n.a)((()=>{const{focusTool:e,custom:t}=(0,n.u)(),l=e.locale.controls,a=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.toolSnapshot(l.sliderIntensity)};return r.createElement(T,{show:e.isOptionSelected},a&&r.createElement("div",null,r.createElement(a,{tool:"focus",ariaLabel:l.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:l.buttonReset})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(n.r.Spacer,{count:2}),r.createElement(n.T.Slider,{identifier:"focus-intensity",tool:"focus","aria-hidden":!e.isOptionSelected,label:l.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:o,onTouchEnd:o}),r.createElement(n.r.Spacer,{count:2})),r.createElement(n.T.BarSeparator,null))})),v=(0,n.a)((()=>{const{frameTool:e}=(0,n.u)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:a}=e;return r.createElement(n.r.Input.Selection,{label:t.selectColor,showLabel:!1},r.createElement(n.I,{tool:"frame",activeColor:e.color,colors:a,labelsColor:l,colorPickerDirection:"top",onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),S=(0,n.a)((()=>{const{frameTool:e}=(0,n.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderOpacity)};return r.createElement(n.T.Slider,{identifier:"frame-opacity",tool:"frame","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:l,onTouchEnd:l})})),k=(0,n.a)((()=>{const{frameTool:e}=(0,n.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderSize)};return r.createElement(n.T.Slider,{identifier:"frame-size",tool:"frame","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:l,onTouchEnd:l})})),x=n.T.TabWrapper,{Tab:B}=n.T,I=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,w=(0,n.a)((()=>{const{frameTool:e,custom:t}=(0,n.u)(),l=e.locale.controls,{tintable:a,config:o}=e,{basicUIToolControlBarTabsOrder:i}=o,c=t.getButton("toolControlBarSecondaryButton");return r.createElement(I,{show:e.isOptionSelected},c&&r.createElement("div",null,r.createElement(c,{tool:"frame",ariaLabel:l.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:l.buttonReset})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(x,null,i.map((e=>(e=>{switch(e){case"frameOpacity":return r.createElement(B,{key:e,label:l.tabOpacity},r.createElement(S,null));case"frameSize":return r.createElement(B,{key:e,label:l.tabSize},r.createElement(k,null));case"frameColor":return a&&r.createElement(B,{key:e,label:l.tabColor},r.createElement(v,null));default:return null}})(e))))),r.createElement(n.T.BarSeparator,null))})),L=(0,o.Ay)(n.T.ControlsbarContainer)`
  ${e=>e.firstChildMargin&&o.AH`
      > :first-child {
        margin-right: 16px;
      }
    `}
`,$=(0,o.Ay)(n.T.Other.ControlsWrapper)`
  grid-column-start: 2;
  align-self: center;
`,A=(0,n.c)("library","active","custom")((0,n.a)((({library:e,active:t,custom:l})=>{const o=e.locale.controls.placeholderSearch,{config:i}=e,c=l.getButton("toolControlBarPrimaryButton");return r.createElement(L,{firstChildMargin:i.enableWebcam&&!e.libraryProvider,show:!0},i.enableUpload&&c&&r.createElement("div",null,r.createElement(c,{tool:"library","data-test":a.Ta.LibraryUploadButton,ariaLabel:e.locale.controls.buttonUpload,onClick:()=>{const e=document.getElementById("fileUpload");e&&e.click()},icon:r.createElement(n.y.uploadImage,null),label:e.locale.controls.buttonUpload},r.createElement(n.r.Input.File,{onChange:e=>{const{files:l}=e.target;if(l.length){const e=new FileReader;e.onload=e=>{t.newImage(e.target.result)},e.readAsDataURL(l[0])}}}))),e.libraryProvider&&r.createElement($,null,r.createElement(n.r.Input.Search,{onChange:t=>{e.fetchImages(t)},placeholder:o})),i.enableWebcam&&r.createElement("div",null,r.createElement(n.R,{tool:"library",onClick:()=>{t.selectWebcam(!0)},icon:r.createElement(n.y.openWebcam,null),label:e.locale.controls.buttonWebcamOpen})),r.createElement(n.T.BarSeparator,null))}))),D=(0,n.a)((()=>{const{overlayTool:e}=(0,n.u)(),t=e.locale.controls,{blendMode:l,allBlendModes:a}=e;return r.createElement(n.r.Input.CarouselSlider,{showLabel:!1,label:t.carouselBlendMode,defaultIdentifier:l,onSelect:t=>{e.changeBlendMode(t)},list:a})})),U=(0,n.a)((()=>{const{overlayTool:e}=(0,n.u)(),t=e.locale.controls,{state:l}=e,a=()=>{e.toolSnapshot()};return r.createElement(n.T.Slider,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderOpacity,value:l.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:a,onTouchEnd:a})})),O=n.T.TabWrapper,{Tab:R}=n.T,W=(0,n.a)((()=>{const{overlayTool:e,custom:t}=(0,n.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,o=e.locale.controls,i=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.T.ControlsbarContainer,{show:e.isOptionSelected},i&&r.createElement("div",null,r.createElement(i,{tool:"overlay",ariaLabel:o.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:o.buttonReset})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(O,null,a.map((e=>(e=>{switch(e){case"overlayBlendMode":return r.createElement(R,{key:e,label:o.tabBlendMode},r.createElement(D,null));case"overlayOpacity":return r.createElement(R,{key:e,label:o.tabOpacity},r.createElement(U,null));default:return null}})(e))))),r.createElement(n.T.BarSeparator,null))})),z=(0,n.a)((()=>{const{stickerTool:e}=(0,n.u)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:a}=e;return r.createElement(r.Fragment,null,r.createElement(n.r.Input.Selection,{isDisabled:!e.isStickerSelected,showLabel:!1,label:t.selectColor},r.createElement(n.I,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:a,labelsColor:l,isDisabled:!e.isStickerSelected,colorPickerDirection:"top",onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot})))})),P=(0,n.a)((()=>{const{stickerTool:e}=(0,n.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return r.createElement(n.T.Slider,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!e.isStickerSelected,showLabel:!1,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onMouseUp:l,onTouchEnd:l,onChange:e.changeOpacity})})),F=n.T.TabWrapper,{Tab:M}=n.T,H=o.Ay.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${n.q.VisuallyHidden}
`,j=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,X=(0,n.a)((()=>{const{stickerTool:e,custom:t}=(0,n.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,o=e.locale.controls,i=t.getButton("toolControlBarPrimaryButton");return r.createElement(j,{show:!0},e.isCustomStickerEnabled&&i?r.createElement("div",null,r.createElement(i,{tool:"sticker",ariaLabel:o.buttonUpload,onClick:()=>{const e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},icon:r.createElement(n.y.uploadImage,null),label:o.buttonUpload},r.createElement(H,{onChange:t=>{const{files:l}=t.target;e.addFiles(l)}}))):null,r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(F,null,a.map((t=>(t=>{switch(t){case"stickerColor":return e.tintable?r.createElement(M,{key:t,label:o.tabColor},r.createElement(z,null)):null;case"stickerOpacity":return r.createElement(M,{key:t,label:o.tabOpacity},r.createElement(P,null));default:return null}})(t))))),r.createElement(n.T.BarSeparator,null))})),N=(0,n.a)((()=>{const{textTool:e}=(0,n.u)(),{backgroundColorList:t}=e,l=e.locale.controls,a=e.localeColor.colorPicker;return r.createElement(n.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectBackgroundColor},r.createElement(n.I,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:t,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))})),_=(0,o.Ay)(n.r.Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`,q=(0,n.a)((()=>{var e;const{textTool:t}=(0,n.u)(),{locale:l}=t;return r.createElement(_,{id:"photoeditorsdk-text-font-size-input",value:t.fontSize.toFixed(0),onSubmit:e=>{const l=e?parseFloat(e):0;t.setFontSize(Math.max(10,Math.min(690,l)))},isDisabled:!t.isTextSelected,label:null==(e=l.controls)?void 0:e.textFontSize,showLabel:!1})})),K=(0,n.a)((()=>{const{textTool:e}=(0,n.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return r.createElement(n.T.Slider,{identifier:"text-line-spacing",tool:"text",isDisabled:!e.isTextSelected,showLabel:!1,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:l,onTouchEnd:l,snap:1,divider:1,decimal:1})})),J=(0,n.a)((()=>{const{textTool:e,custom:t}=(0,n.u)(),l=e.locale.controls,o=t.getButton("textAlignment");return r.createElement(n.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectAlignment,"data-test":a.Ta.TextAlignment},["left","center","right"].map((t=>{const l=n.x[t];return r.createElement(o,{tool:t,isDisabled:!e.isTextSelected,ariaLabel:`Align ${t}`,isActive:t===e.alignment,key:t,icon:r.createElement(l,null),onClick:()=>e.changeAlignment(t)})})))})),Q=(0,n.a)((()=>{const{textTool:e}=(0,n.u)(),{colorList:t}=e,l=e.locale.controls,a=e.localeColor.colorPicker;return r.createElement(n.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectFontColor},r.createElement(n.I,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:t,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),V=n.T.ResponsiveTabWrapper,Y=(0,o.Ay)(n.T.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`,G=(0,n.a)((()=>{const{textTool:e,custom:t}=(0,n.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,o=e.locale.controls,i=t.getButton("toolControlBarPrimaryButton");return r.createElement(Y,{show:!0},r.createElement("div",null,r.createElement(i,{tool:"text",ariaLabel:o.buttonNew,onClick:e.add,icon:r.createElement(n.y.addText,null),label:o.buttonNew})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(V,null,a.map((e=>(e=>{switch(e){case"fontSize":return r.createElement(n.S,{key:e,label:o.tabFontSize},r.createElement(q,null));case"textAlignment":return r.createElement(n.S,{key:e,label:o.tabAlignment},r.createElement(J,null));case"textColor":return r.createElement(n.S,{key:e,label:o.tabColor},r.createElement(Q,null));case"backgroundColor":return r.createElement(n.S,{key:e,label:o.tabBgColor},r.createElement(N,null));case"lineSpacing":return r.createElement(n.S,{key:e,label:o.tabLineHeight},r.createElement(K,null));default:return null}})(e))))),r.createElement(n.T.BarSeparator,null))})),Z=(0,o.Ay)(n.I)`
  height: 40px;
`,ee=(0,n.c)("textDesignTool","custom")((0,n.a)((({textDesignTool:e,custom:t})=>{const l=e.locale.controls,a=e.localeColor.colorPicker,{colorList:o}=e,i=t.getButton("toolControlBarSecondaryButton"),c=t.getButton("toolControlBarPrimaryButton");return r.createElement(n.T.ControlsbarContainer,{show:!0},c&&r.createElement("div",null,r.createElement(c,{tool:"textdesign",ariaLabel:l.buttonNew,onClick:e.add,icon:r.createElement(n.y.addText,null),label:l.buttonNew})),r.createElement(n.T.Other.ControlsWrapper,null,r.createElement(n.r.Input.Selection,{isDisabled:!e.isTextDesignSelected,label:l.selectColor},r.createElement(Z,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextDesignSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))),i&&r.createElement("div",null,r.createElement(i,{tool:"textdesign",ariaLabel:l.buttonShuffle,onClick:e.changeSeed,icon:r.createElement(n.y.shuffle,null),label:l.buttonShuffle})),r.createElement(n.T.BarSeparator,null))}))),te=(0,n.a)((()=>{const{transformTool:e}=(0,n.u)(),t=e.locale.controls,{forceDimensions:l}=e;return r.createElement(n.O,{isDisabled:l,showLabel:!1,valueHeight:e.localOutputHeight,valueWidth:e.localOutputWidth,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel})})),le=()=>r.createElement(n.J,null),ne=(0,n.a)((()=>{const{transformTool:e,custom:t}=(0,n.u)(),l=e.locale.controls,{forceDimensions:a}=e,o=t.getCheckbox();return o?r.createElement(o,{tool:"transform",isDisabled:a,style:{paddingTop:"5px",justifyContent:"center"},value:e.lockResolution,checkMarkPosition:"left",label:l.checkboxKeepResolution,onClick:e.changeLockResolution}):null})),ae=n.T.ResponsiveTabWrapper,{Tab:re}=n.T,oe=o.AH`
  min-width: unset;
`,ie=(0,o.Ay)(n.T.Other.ControlsWrapper)`
  min-width: 365px;

  ${e=>e.smallContainer&&oe}
  @media all and (min-width: 0) and (max-width: 599px) {
    ${oe}
  }
`,ce=(0,n.a)((()=>{const{transformTool:e,custom:t}=(0,n.u)(),{rect:l}=(0,r.useContext)(n.d),{config:a}=e,{basicUIToolControlBarTabsOrder:o}=a,i=e.locale.controls,c=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.T.ControlsbarContainer,{show:!0},c&&r.createElement("div",null,r.createElement(c,{tool:"transform",ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.y.reset,null),label:e.locale.controls.buttonReset})),r.createElement(ie,{smallContainer:!!l&&l.width<600},r.createElement(ae,null,o.map((e=>(e=>{switch(e){case"flipRotate":return r.createElement(re,{key:e,label:i.tabFlipAndRotate},r.createElement(le,null));case"resolution":return r.createElement(re,{key:e,label:i.tabResolution},r.createElement(ne,null));case"cropSize":return r.createElement(re,{key:e,label:i.tabCropSize},r.createElement(te,null));default:return null}})(e))))),r.createElement(n.T.BarSeparator,null))})),se=(0,n.a)((function(){const{active:e,custom:t}=(0,n.u)(),l=e.tool,a=t.getBasicToolControlBar();return a?r.createElement(a,{show:!!l,tool:l},r.createElement(n.r.Switch.Index,{type:l},r.createElement(n.r.Switch.Case,{value:"filter"},r.createElement(f,null)),r.createElement(n.r.Switch.Case,{value:"focus"},r.createElement(y,null)),r.createElement(n.r.Switch.Case,{value:"adjustment"},r.createElement(s,null)),r.createElement(n.r.Switch.Case,{value:"overlay"},r.createElement(W,null)),r.createElement(n.r.Switch.Case,{value:"sticker"},r.createElement(X,null)),r.createElement(n.r.Switch.Case,{value:"text"},r.createElement(G,null)),r.createElement(n.r.Switch.Case,{value:"textdesign"},r.createElement(ee,null)),r.createElement(n.r.Switch.Case,{value:"library"},r.createElement(A,null)),r.createElement(n.r.Switch.Case,{value:"frame"},r.createElement(w,null)),r.createElement(n.r.Switch.Case,{value:"brush"},r.createElement(C,null)),r.createElement(n.r.Switch.Case,{value:"transform"},r.createElement(ce,null)))):null})),me=o.Ay.div`
  position: relative;
  top: -8px;
  color: ${e=>e.theme.card.foreground};
`,ue=(0,n.c)("adjustmentsTool")((0,n.a)((({adjustmentsTool:e})=>r.createElement(n.T.CardContainer,null,e.items.map(((t,l)=>{const o=n.A[t.identifier];return r.createElement(n.T.Card,{"data-test":t.identifier,tool:"adjustment",type:"medium",onClick:()=>e.toggleOptionSelection(t.identifier),isActive:t.identifier===e.selectedAdjustmentType,key:`${t.identifier}-${l}`,label:t.name,style:{animationDelay:`${(0,a.Xa)(l)}s`}},r.createElement(me,null,r.createElement(o,null)),r.createElement(n.T.CardLabel,null,e.locale.items[t.identifier]||t.name))})))))),de=()=>{const{config:e}=(0,n.u)(),t=e.state.config.customTool.toolControlBar;return r.createElement(t,{language:e.state.locale.customTool})},be=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{filterTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,o;const{filterTool:i}=this.props,c=null==(o=null==(l=i.locale)?void 0:l.controls)?void 0:o.itemAriaLabel;return r.createElement(n.T.Card,{tool:"filter",type:"medium",onClick:()=>i.selectFilter(e.identifier,e.defaultIntensity),isActive:i.identifier===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==c?void 0:c.replace("${label}",e.name),style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},i.locale.categories[e.identifier]||i.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{var l;const{filterTool:o}=this.props,{selectedCategoryIdentifier:i,locale:c}=o,s=null==(l=c.controls)?void 0:l.categoryAriaLabel,m=i===e.identifier;return e.items?r.createElement(n.T.CategoryContainer,{key:e.identifier},r.createElement(n.T.Card,{role:"button","aria-expanded":m,"aria-label":null==s?void 0:s.replace("${label}",e.name),tool:"filter",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},e.name)),r.createElement(n.T.ExpandableContainer,{show:m},e.items.map(this.renderItem))):null}}render(){const{filterTool:e}=this.props,{categories:t,config:l,items:a}=e;return l.flattenCategories?r.createElement(n.T.CardContainer,null,a.map(this.renderItem)):r.createElement(n.T.CardContainer,null,t.map(this.renderCategory))}};be=(0,a.c)([(0,n.c)("filterTool","active"),n.a],be);var pe=(0,n.c)("focusTool")((0,n.a)((({focusTool:e})=>{var t,l;const o=null==(l=null==(t=e.locale)?void 0:t.controls)?void 0:l.itemAriaLabel;return r.createElement(n.T.CardContainer,null,e.items.map(((t,l)=>r.createElement(n.T.Card,{isActive:t.identifier===e.identifier,tool:"focus",type:"medium",onClick:()=>(t=>{e.selectFocus(t)})(t.identifier),key:`${t.identifier}-${l}`,image:t.thumbnailURI,label:t.name,"aria-label":null==o?void 0:o.replace("${label}",t.name),style:{animationDelay:`${(0,a.Xa)(l)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},e.locale.items[t.identifier]||t.name)))))}))),he=(0,n.c)("frameTool")((0,n.a)((({frameTool:e})=>{var t,l;const o=e.identifier,i=null==(l=null==(t=e.locale)?void 0:t.controls)?void 0:l.itemAriaLabel;return r.createElement(n.T.CardContainer,null,e.items.map(((t,l)=>r.createElement(n.T.Card,{tool:"frame",type:"medium",onClick:()=>e.selectFrame(t.identifier),isActive:t.identifier===o,key:`${t.identifier}-${l}`,image:t.thumbnailURI,label:t.name,"aria-label":null==i?void 0:i.replace("${label}",t.name),style:{animationDelay:`${(0,a.Xa)(l)}s`,backgroundSize:"60%"}}," ",r.createElement(n.T.CardLabel,{hidden:!0},e.locale.items[t.identifier]||t.name)))))}))),Ce=o.Ay.p`
  height: ${e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight}px;
`,ge=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{library:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,o;const{active:i,library:c}=this.props,s=null==(o=null==(l=c.locale)?void 0:l.controls)?void 0:o.itemAriaLabel;return r.createElement(n.T.Card,{tool:"library",type:"medium",onClick:()=>i.newImage(e.rawUrl),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==s?void 0:s.replace("${label}",e.name),style:{animationDelay:`${(0,a.Xa)(t)}s`}})},this.renderCategory=(e,t)=>{var l;const{library:o}=this.props,{selectedCategoryIdentifier:i,locale:c}=o,s=null==(l=c.controls)?void 0:l.categoryAriaLabel,m=i===e.identifier;return e.items?r.createElement(n.T.CategoryContainer,{key:e.identifier},r.createElement(n.T.Card,{role:"button","aria-expanded":m,"aria-label":null==s?void 0:s.replace("${label}",e.name),tool:"library",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},e.name)),r.createElement(n.T.ExpandableContainer,{show:m},e.items.map(this.renderItem))):null}}render(){const{library:e}=this.props,{query:t,categories:l,items:o,locale:i,config:c}=e;return t?o.length?r.createElement(n.T.CardContainer,null,o.map(this.renderItem)):r.createElement(Ce,{"data-test":a.Ta.NoResult},i.controls.noResults):c.flattenCategories?r.createElement(n.T.CardContainer,null,o.map(this.renderItem)):r.createElement(n.T.CardContainer,null,l.map(this.renderCategory))}};ge=(0,a.c)([(0,n.c)("library","active"),n.a],ge);var Ee=(0,n.c)("overlayTool")((0,n.a)((({overlayTool:e})=>{var t;const{identifier:l,items:o,selectOverlay:i,locale:c}=e,s=null==(t=c.controls)?void 0:t.itemAriaLabel;return r.createElement(n.T.CardContainer,null,o.map(((e,t)=>r.createElement(n.T.Card,{tool:"overlay",type:"medium",onClick:()=>i(e.identifier),isActive:e.identifier===l,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==s?void 0:s.replace("${label}",e.name),style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},c.items[e.identifier]||e.name)))))}))),fe=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{stickerTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,o;const{stickerTool:i}=this.props,c=null==(o=null==(l=i.locale)?void 0:l.controls)?void 0:o.itemAriaLabel;return r.createElement(n.T.Card,{tool:"sticker",type:"medium",onClick:()=>i.add(e.identifier),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==c?void 0:c.replace("${label}",e.name),style:{backgroundSize:"55%",animationDelay:`${(0,a.Ya)(t)}s`}},r.createElement(n.T.CardLabel,{hidden:!0},i.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{var l;const{stickerTool:o}=this.props,{selectedCategoryIdentifier:i,locale:c}=o,s=null==(l=c.controls)?void 0:l.categoryAriaLabel,m=i===e.identifier;return e.items?r.createElement(n.T.CategoryContainer,{key:e.identifier},r.createElement(n.T.Card,{role:"button","aria-expanded":m,"aria-label":null==s?void 0:s.replace("${label}",e.name),tool:"sticker",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(n.T.CardLabel,{withBackground:!0},c.categories[e.identifier]||e.name)),r.createElement(n.T.ExpandableContainer,{show:m},e.items.map(this.renderItem))):null}}render(){const{stickerTool:e}=this.props,{categories:t,items:l,config:a}=e;return a.flattenCategories?r.createElement(n.T.CardContainer,null,l.map(this.renderItem)):r.createElement(n.T.CardContainer,null,t.map(this.renderCategory))}};fe=(0,a.c)([(0,n.c)("stickerTool","active"),n.a],fe);var Te=o.Ay.div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`,ye=class extends r.Component{constructor(){super(...arguments),this.getWidth=({fontFamily:e,fontStyle:t,fontWeight:l},n)=>{const a=document.createElement("canvas").getContext("2d");return a.font=`${t} ${l} 20px ${e}`,a.fillText(n,0,0),a.measureText(n).width},this.renderItem=(e,t)=>{const{config:l,textTool:o}=this.props,{fontFamily:i,fontWeight:c,fontStyle:s,identifier:m}=e,u=`${e.fontFamily} ${n.D.getDisplayFontStyle(e)}`,d=this.getWidth(e,u),b=(l.measurements.basicCard.medium.width-20)/d;return r.createElement(n.T.Card,{tool:"text",type:"medium",onClick:()=>o.changeFont(m),isDisabled:!this.textTool.isTextSelected,isActive:o.identifier===m,key:`${e.identifier}-${t}`,label:u,style:{animationDelay:`${(0,a.Xa)(t)}s`}},r.createElement(Te,{style:{transform:`scale(${b}) translate(-50%, -50%)`,fontFamily:i,fontStyle:s,fontWeight:c}},u))}}get textTool(){return this.props.textTool}render(){const{textTool:e}=this.props,{fontsLoaded:t,fontFamilies:l}=e;return t?r.createElement(n.T.CardContainer,null,l.map(this.renderItem)):null}},ve=(0,n.c)("textTool","config")((0,n.a)(ye)),Se=(0,n.c)("textDesignTool")((0,n.a)((({textDesignTool:e})=>{var t;const{items:l,changeIdentifier:o,isTextDesignSelected:i,identifier:c,locale:s}=e,m=null==(t=s.controls)?void 0:t.itemAriaLabel;return r.createElement(n.T.CardContainer,null,l.map(((e,t)=>r.createElement(n.T.Card,{tool:"textdesign",type:"medium",onClick:()=>o(e.identifier),isDisabled:!i,isActive:c===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==m?void 0:m.replace("${label}",e.name),style:{animationDelay:`${(0,a.Xa)(t)}s`,backgroundSize:"60%"}},r.createElement(n.T.CardLabel,{hidden:!0},e.name)))))}))),ke=o.Ay.div`
  svg {
    margin-bottom: 12px;
  }
`,xe=o.Ay.div`
  svg {
    width: ${e=>e.theme.measurements.basicCard.medium.height}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height}px;
  }

  ${n.v} {
    width: ${e=>e.theme.measurements.basicCard.medium.width-32}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`,Be=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{transformTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l;const{transformTool:o,config:i}=this.props,{locale:c,identifier:s}=o,m=null==(l=c.controls)?void 0:l.itemAriaLabel,u=o.checkIfTransformThumbnailExits(e.thumbnailURI),d=n.z.crops[e.identifier]||n.z.crops.imgly_transform_common_custom,b=r.createElement(n.T.CardLabel,null,c.items[e.identifier]||e.name),p=u?b:r.createElement(xe,null,r.createElement(d,{main:i.theme.transform.crops.main,highlight:i.theme.transform.crops.highlight,shadow:i.theme.transform.crops.shadow}),b);return r.createElement(n.T.Card,{tool:"transform",type:"medium",onClick:()=>o.changeIdentifier(e.identifier,!0),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,"aria-label":null==m?void 0:m.replace("${label}",e.name),isActive:e.identifier===s,style:{backgroundSize:"55%",animationDelay:`${(0,a.Xa)(t)}s`}},p)},this.renderCategory=(e,t)=>{var l;const{transformTool:o}=this.props,{selectedCategoryIdentifier:i,locale:c}=o,s=null==(l=c.controls)?void 0:l.categoryAriaLabel,m=i===e.identifier;if(!e.items)return null;const u=o.checkIfTransformThumbnailExits(e.thumbnailURI),d=r.createElement(n.T.CardLabel,null,c.categories[e.identifier]||e.name),b=u?d:r.createElement(ke,null,n.z.categories[e.identifier]&&r.createElement(n.z.categories[e.identifier]),d);return r.createElement(n.T.CategoryContainer,{key:e.identifier},r.createElement(n.T.Card,{role:"button","aria-expanded":m,"aria-label":null==s?void 0:s.replace("${label}",e.name),tool:"transform",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:u?e.thumbnailURI:"",label:e.name,style:{animationDelay:`${(0,a.Xa)(t)}s`}},b),r.createElement(n.T.ExpandableContainer,{show:m},e.items.map(this.renderItem)))}}render(){const{transformTool:e}=this.props,{categories:t,config:l,items:a}=e;return l.flattenCategories?r.createElement(n.T.CardContainer,null,a.map(this.renderItem)):r.createElement(n.T.CardContainer,null,t.map(this.renderCategory))}};Be=(0,a.c)([(0,n.c)("transformTool","config"),n.a],Be);var Ie=(0,n.a)((function(){const{active:e,library:t,custom:l}=(0,n.u)(),a=e.tool,o=(0,r.useMemo)((()=>{switch(a){case"library":return r.createElement(ge,null);case"filter":return r.createElement(be,null);case"focus":return r.createElement(pe,null);case"adjustment":return r.createElement(ue,null);case"overlay":return r.createElement(Ee,null);case"sticker":return r.createElement(fe,null);case"text":return r.createElement(ve,null);case"textdesign":return r.createElement(Se,null);case"frame":return r.createElement(he,null);case"transform":return r.createElement(Be,null);case"customTool":return r.createElement(de,null);default:return null}}),[a]),i=l.getBasicToolItemsBar();return!i||"brush"===a||"library"===a&&!t.libraryProvider?null:r.createElement(i,{show:!!a},o)})),we=o.Ay.div`
  position: absolute;
  width: 100%;
  height: ${e=>e.theme.measurements.basicUIToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`,Le=class extends r.Component{static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}render(){const{active:e,custom:t}=this.props,l=t.getWindowContainer();return r.createElement(n.r.Container,{"data-test":a.Ta.EditorContainer},e.isWebcam?r.createElement(we,null):null,r.createElement(n.N,null),r.createElement(n.B,null,r.createElement(n.H,null),l&&r.createElement(l,{tool:e.tool},r.createElement(n.Q,null,e.isWebcam?r.createElement(n.P,null):null,e.image&&r.createElement(n.K,null))),r.createElement(se,null),r.createElement(Ie,null),r.createElement(i,null)))}};Le=(0,a.c)([(0,n.c)("active","custom"),n.a],Le);var $e=class extends r.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:e,storeProps:t}=this.props;this.editor=e,this.storeProps=t;const l=new n.M(this.editor.configStore.config.custom.components,{basicUIToolbar:n.T.Toolbar.Index,basicUIToolControlBar:n.T.Controlsbar,basicUIToolItemsBar:n.T.Itemsbar}),a={getDialog:l.getDialog,getButton:l.getButton,getColorItem:l.getColorItem,getCheckbox:l.getCheckbox,getSlider:l.getSlider,getBasicToolbar:l.getBasicToolbar,getBasicToolControlBar:l.getBasicToolControlBar,getBasicToolItemsBar:l.getBasicToolItemsBar,getWindowContainer:l.getWindowContainer};this.storeProps.custom=a,this.forceUpdate()}render(){return this.storeProps?r.createElement(n.b,{...this.storeProps},r.createElement(o.NP,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},r.createElement(Le,null))):null}}}}]);